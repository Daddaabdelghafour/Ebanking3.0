server:
  port: 8085

spring:
  application:
    name: auth-service

  kafka:
    #bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
    bootstrap-servers: localhost:29092
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer
      properties:
        spring.json.add.type.headers: false

kafka:
  topic:
    #user-created: ${KAFKA_TOPIC_USER_CREATED:user-created}
    # New topics for events notification service
    registred-notif-event: ${KAFKA_TOPIC_USER_EVENTS:new-user-registred}
    email-virified-notif-event : ${KAFKA_TOPIC_USER_EVENTS:email-verified}
    resend-verified-code-notif-event : ${KAFKA_TOPIC_USER_EVENTS:resend-verification-code}
    forgot-password-notif-event : ${KAFKA_TOPIC_USER_EVENTS:forgot-password}
    # topics for user service
    user-registred-event: ${KAFKA_TOPIC_USER_CREATED:user-registred}
    email-updated-event: ${KAFKA_TOPIC_EMAIL_VERIFIED:email-updated}

# Configuration Keycloak
keycloak:
  auth-server-url: ${KEYCLOAK_URL:http://localhost:8080}
  realm: ${KEYCLOAK_REALM:e-banking}
  resource: ${KEYCLOAK_CLIENT_ID:e-banking-app}
  credentials:
    secret: ${KEYCLOAK_CLIENT_SECRET:niTwEDB1eWtH6YAsPfBmFodopJQRthYW}

  # Credentials admin pour cr√©er des utilisateurs
  admin-username: ${KEYCLOAK_ADMIN:admin}
  admin-password:  ${KEYCLOAK_ADMIN_PASSWORD:admin}

# Logging
logging:
  level:
    root: INFO
    com.microservices. auth: DEBUG
    org.springframework.security: DEBUG
    org.springframework.web. reactive.function.client: DEBUG

# Actuator
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always
