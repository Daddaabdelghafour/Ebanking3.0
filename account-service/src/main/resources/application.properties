spring.application.name=Account-service

server.port=1111
server.url=http://127.0.0.1:${server.port}

# Database Configuration
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.jpa.hibernate.ddl-auto=update

# JPA Configuration - Include Axon Framework entities
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=false


# Axon Configuration - Use PostgreSQL instead of Axon Server
axon.axonserver.enabled=false
axon.eventhandling.processors.account.mode=tracking
axon.eventhandling.processors.account.mode=subscribing

# Optional: Configure token store cleanup
axon.eventhandling.tokenstore.claim-timeout=10000

# Bank code constants
bank.bank-code=026
bank.city-code=001
bank.currency=MAD
bank.account-number-initial-value=30122025

# Notification Service Configuration
notification-service.url=http://localhost:8082/api/v1/notifications

# Kafka Producer Logging
logging.level.org.apache.kafka=DEBUG
logging.level.org.springframework.kafka=DEBUG
logging.level.com.ebank.account.Common.kafka.producer=DEBUG

# Additional Kafka Producer Settings (add after your existing Kafka config)
spring.kafka.producer.acks=all
spring.kafka.producer.retries=3
spring.kafka.producer.properties.retry.backoff.ms=1000
spring.kafka.producer.properties.linger.ms=10
spring.kafka.producer.properties.batch.size=16384

# Kafka Configuration
spring.kafka.bootstrap-servers=${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
spring.kafka.consumer.group-id=account-service-group
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.enable-auto-commit=true

# Kafka Topics - Producer (Account Events)
kafka.topics.account-created=account.created
kafka.topics.account-activated=account.activated
kafka.topics.account-suspended=account.suspended
kafka.topics.account-deleted=account.deleted
kafka.topics.account-credited=account.credited
kafka.topics.account-debited=account.debited
kafka.topics.account-transferred=account.transferred

# Kafka Topics - Notification Events (Producer)
kafka.topics.notification-otp=notification.otp
kafka.topics.notification-transaction-success=notification.transaction.success
kafka.topics.notification-transaction-failed=notification.transaction.failed
kafka.topics.notification-beneficiary-added=notification.beneficiary.added

# Kafka Topics - Consumer (External Events)
kafka.topics.customer-created=customer.created

